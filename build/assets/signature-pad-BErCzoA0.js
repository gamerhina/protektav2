function tt(t,r,p,v=P=>P){return t*v(.5-r*(.5-p))}function ut(t){return[-t[0],-t[1]]}function A(t,r){return[t[0]+r[0],t[1]+r[1]]}function T(t,r){return[t[0]-r[0],t[1]-r[1]]}function S(t,r){return[t[0]*r,t[1]*r]}function ct(t,r){return[t[0]/r,t[1]/r]}function U(t){return[t[1],-t[0]]}function et(t,r){return t[0]*r[0]+t[1]*r[1]}function ht(t,r){return t[0]===r[0]&&t[1]===r[1]}function pt(t){return Math.hypot(t[0],t[1])}function dt(t){return t[0]*t[0]+t[1]*t[1]}function nt(t,r){return dt(T(t,r))}function st(t){return ct(t,pt(t))}function ft(t,r){return Math.hypot(t[1]-r[1],t[0]-r[0])}function H(t,r,p){let v=Math.sin(p),P=Math.cos(p),M=t[0]-r[0],D=t[1]-r[1],l=M*P-D*v,g=M*v+D*P;return[l+r[0],g+r[1]]}function F(t,r,p){return A(t,S(T(r,t),p))}function it(t,r,p){return A(t,S(r,p))}var{min:G,PI:gt}=Math,rt=.275,$=gt+1e-4;function wt(t,r={}){let{size:p=16,smoothing:v=.5,thinning:P=.5,simulatePressure:M=!0,easing:D=a=>a,start:l={},end:g={},last:R=!1}=r,{cap:e=!0,easing:s=a=>a*(2-a)}=l,{cap:n=!0,easing:h=a=>--a*a*a+1}=g;if(t.length===0||p<=0)return[];let o=t[t.length-1].runningLength,u=l.taper===!1?0:l.taper===!0?Math.max(p,o):l.taper,c=g.taper===!1?0:g.taper===!0?Math.max(p,o):g.taper,m=Math.pow(p*v,2),E=[],L=[],I=t.slice(0,10).reduce((a,w)=>{let d=w.pressure;if(M){let f=G(1,w.distance/p),j=G(1,1-f);d=G(1,a+(j-a)*(f*rt))}return(a+d)/2},t[0].pressure),i=tt(p,P,t[t.length-1].pressure,D),y,q=t[0].vector,_=t[0].point,k=_,x=_,C=k,Y=!1;for(let a=0;a<t.length;a++){let{pressure:w}=t[a],{point:d,vector:f,distance:j,runningLength:O}=t[a];if(a<t.length-1&&o-O<3)continue;if(P){if(M){let b=G(1,j/p),X=G(1,1-b);w=G(1,I+(X-I)*(b*rt))}i=tt(p,P,w,D)}else i=p/2;y===void 0&&(y=i);let ot=O<u?s(O/u):1,lt=o-O<c?h((o-O)/c):1;i=Math.max(.01,i*Math.min(ot,lt));let J=(a<t.length-1?t[a+1]:t[a]).vector,K=a<t.length-1?et(f,J):1,at=et(f,q)<0&&!Y,Q=K!==null&&K<0;if(at||Q){let b=S(U(q),i);for(let X=1/13,W=0;W<=1;W+=X)x=H(T(d,b),d,$*W),E.push(x),C=H(A(d,b),d,$*-W),L.push(C);_=x,k=C,Q&&(Y=!0);continue}if(Y=!1,a===t.length-1){let b=S(U(f),i);E.push(T(d,b)),L.push(A(d,b));continue}let V=S(U(F(J,f,K)),i);x=T(d,V),(a<=1||nt(_,x)>m)&&(E.push(x),_=x),C=A(d,V),(a<=1||nt(k,C)>m)&&(L.push(C),k=C),I=w,q=f}let N=t[0].point.slice(0,2),z=t.length>1?t[t.length-1].point.slice(0,2):A(t[0].point,[1,1]),Z=[],B=[];if(t.length===1){if(!(u||c)||R){let a=it(N,st(U(T(N,z))),-(y||i)),w=[];for(let d=1/13,f=d;f<=1;f+=d)w.push(H(a,N,$*2*f));return w}}else{if(!(u||c&&t.length===1))if(e)for(let w=1/13,d=w;d<=1;d+=w){let f=H(L[0],N,$*d);Z.push(f)}else{let w=T(E[0],L[0]),d=S(w,.5),f=S(w,.51);Z.push(T(N,d),T(N,f),A(N,f),A(N,d))}let a=U(ut(t[t.length-1].vector));if(c||u&&t.length===1)B.push(z);else if(n){let w=it(z,a,i);for(let d=1/29,f=d;f<1;f+=d)B.push(H(w,z,$*3*f))}else B.push(A(z,S(a,i)),A(z,S(a,i*.99)),T(z,S(a,i*.99)),T(z,S(a,i)))}return E.concat(B,L.reverse(),Z)}function vt(t,r={}){var p;let{streamline:v=.5,size:P=16,last:M=!1}=r;if(t.length===0)return[];let D=.15+(1-v)*.85,l=Array.isArray(t[0])?t:t.map(({x:h,y:o,pressure:u=.5})=>[h,o,u]);if(l.length===2){let h=l[1];l=l.slice(0,-1);for(let o=1;o<5;o++)l.push(F(l[0],h,o/4))}l.length===1&&(l=[...l,[...A(l[0],[1,1]),...l[0].slice(2)]]);let g=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],R=!1,e=0,s=g[0],n=l.length-1;for(let h=1;h<l.length;h++){let o=M&&h===n?l[h].slice(0,2):F(s.point,l[h],D);if(ht(s.point,o))continue;let u=ft(o,s.point);if(e+=u,h<n&&!R){if(e<P)continue;R=!0}s={point:o,pressure:l[h][2]>=0?l[h][2]:.5,vector:st(T(s.point,o)),distance:u,runningLength:e},g.push(s)}return g[0].vector=((p=g[1])==null?void 0:p.vector)||[0,0],g}function mt(t,r={}){return wt(vt(t,r),r)}if(typeof window<"u"&&!window.SIGNATURE_PAD_LOADED){let M=function(e){const s=document.querySelector(`.signature-pad-wrapper-${e}`);if(!s||s.dataset.signatureInitialized==="true")return;const n=s.querySelector(`.signature-canvas-${e}`),h=s.querySelector(`.signature-input-${e}`),o=s.querySelector(`.signature-pad-container-${e}`);if(!n||!h||!o)return;s.dataset.signatureInitialized="true",D(n);const u=n.getContext("2d"),c=[];let m=!1;const E={toggle:()=>{o.classList.contains("hidden")||o.style.display==="none"?(o.classList.remove("hidden"),o.style.display="block",setTimeout(()=>{D(n),g(u,c)},50)):(o.classList.add("hidden"),o.style.display="none")},clear:()=>{c.length=0;const i=window.devicePixelRatio||1;u.clearRect(0,0,n.width/i,n.height/i),h.value=""}};v[e]=E,n.addEventListener("pointerdown",i=>{if(i.pointerType==="touch")return;i.preventDefault(),m=!0,n.setPointerCapture?.(i.pointerId);const y=[];c.push(y),l(i,n,y),g(u,c)}),n.addEventListener("pointermove",i=>{if(i.pointerType==="touch"||!m)return;i.preventDefault();const y=c[c.length-1];l(i,n,y),g(u,c)});const L=i=>{i.pointerType==="touch"||!m||(i.preventDefault(),m=!1,n.releasePointerCapture?.(i.pointerId),R(n,h,c))};n.addEventListener("pointerup",L),n.addEventListener("pointerleave",L),n.addEventListener("pointercancel",L),n.addEventListener("touchstart",i=>{if(i.preventDefault(),i.touches.length>1)return;m=!0;const y=[];c.push(y),l(i.touches[0],n,y),g(u,c)},{passive:!1}),n.addEventListener("touchmove",i=>{i.preventDefault(),m&&(l(i.touches[0],n,c[c.length-1]),g(u,c))},{passive:!1});const I=i=>{i.preventDefault(),m&&(m=!1,R(n,h,c))};n.addEventListener("touchend",I),n.addEventListener("touchcancel",I),window.addEventListener("resize",()=>{D(n),g(u,c)})},D=function(e){const s=window.devicePixelRatio||1,n=e.getBoundingClientRect(),h=n.width||e.clientWidth||360,o=n.height||e.clientHeight||120;e.width=h*s,e.height=o*s;const u=e.getContext("2d");u.setTransform(1,0,0,1,0,0),u.scale(s,s),e.style.touchAction="none"},l=function(e,s,n){const h=s.getBoundingClientRect(),o=e.clientX-h.left,u=e.clientY-h.top;let c=e.pressure||e.force||.5;c>.55&&(c=.55);const m=Date.now(),E=n[n.length-1];if(E){const L=o-E[0],I=u-E[1],i=Math.hypot(L,I);if(i>p){const y=Math.floor(i/p);for(let q=1;q<=y;q++){const _=q/y;n.push([E[0]+L*_,E[1]+I*_,c,m])}return}}n.push([o,u,c,m])},g=function(e,s){const n=e.canvas,h=window.devicePixelRatio||1;e.clearRect(0,0,n.width/h,n.height/h),e.fillStyle="#0f172a",s.forEach(o=>{if(!o.length)return;if(o.length===1){e.beginPath(),e.arc(o[0][0],o[0][1],1,0,Math.PI*2),e.fill();return}const u=mt(o,r);if(u.length){e.beginPath(),e.moveTo(u[0][0],u[0][1]);for(let c=1;c<u.length;c++)e.lineTo(u[c][0],u[c][1]);e.closePath(),e.fill()}})},R=function(e,s,n){s.value=n.length?e.toDataURL("image/png"):""};var yt=M,Et=D,Lt=l,Pt=g,Dt=R;window.SIGNATURE_PAD_LOADED=!0;const t=["p1","p2","pembahas","mahasiswa"],r={size:3.2,thinning:.65,smoothing:.5,streamline:.5},p=.8,v={};window.openPdfUrl=e=>{e&&window.open(e,"_blank","noopener")};const P=()=>{document.querySelectorAll('[class*="signature-pad-wrapper-"]').forEach(s=>{const n=s.className.match(/signature-pad-wrapper-([a-zA-Z0-9_-]+)/);n&&n[1]&&M(n[1])}),t.forEach(s=>{M(s)})};window.addEventListener("content:updated",()=>{P()}),window.addEventListener("signature:toggle",e=>{const s=e.detail.type;v[s]&&v[s].toggle()}),window.addEventListener("signature:clear",e=>{const s=e.detail.type;v[s]&&v[s].clear()})}
